function renderItem(r) {
const div = document.createElement('div');
div.className = 'gallery-item';
  // usar secure_url preferiblemente

const url = r.secure_url || r.url || '';
if (!url) return;

if ((r.resource_type && r.resource_type.toLowerCase() === 'video') || url.match(/\.(mp4|mov|webm)$/i)) {

    // Obtener cloud name y public_id
    const cloudName = "dvyf7rti4";  // ← usa tu cloud name
    const publicId = r.public_id;

    // Generar thumbnail automático de Cloudinary
    const poster = `https://res.cloudinary.com/${cloudName}/video/upload/so_auto,w_300,h_200,c_fill/${publicId}.jpg`;

const v = document.createElement('video');
v.src = url;
v.controls = true;
v.preload = 'none';
v.loading = 'lazy';
    v.poster = poster;  // ← MINIATURA !!!
v.style.height = '220px';

div.appendChild(v);
} else {
const img = document.createElement('img');
@@ -78,6 +89,7 @@
gallery.appendChild(div);
}


function renderNextPage() {
const next = resources.slice(index, index + PAGE_SIZE);
next.forEach(renderItem);
